<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>





    <link rel="dns-prefetch" href="https://hm.baidu.com"/>



    <link rel="dns-prefetch" href="https://fonts.googleapis.com"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Spring Boot 学习笔记(十四) 整合 Guava | 
        
        U+2647&#39;s blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" href="/img/favicon.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="Spring Boot 学习笔记(十四) 整合 Guava">
    <meta name="keywords" content="java,U+2647,SpringBoot,Guava">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        <!-- highlight 代码高亮 -->
        
            <style id="highlight_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("highlight_css","/css/highlight-styles/googlecode.css?psPj0oLv8UYArA4bjklUGQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(https://p.130014.xyz/2020/11/19/bg.jpg);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="U+2647&#39;s blog">
    <meta name="msapplication-starturl" content="https://zdran.com/20190909.html">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="U+2647&#39;s blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    <meta name="google-site-verification" content="cjZqB5nJc_iCpbllUCFCsJfhsLKhkKeU2DeYvh56fcE" />
    <meta name="baidu-site-verification" content="j93yLiKLFj" />

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://zdran.com/20190909.html">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Spring Boot 学习笔记(十四) 整合 Guava | U+2647&#39;s blog">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="Spring Boot 学习笔记(十四) 整合 Guava">
    <meta property="og:article:tag" content="SpringBoot"> <meta property="og:article:tag" content="Guava"> 

    
        <meta property="article:published_time" content="Mon Sep 09 2019 16:47:43 GMT+0800">
        <meta property="article:modified_time" content="Mon Nov 30 2020 21:17:31 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://zdran.com/20190909.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://zdran.com/20190909.html",
    "headline": "Spring Boot 学习笔记(十四) 整合 Guava",
    "datePublished": "Mon Sep 09 2019 16:47:43 GMT+0800",
    "dateModified": "Mon Nov 30 2020 21:17:31 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "U+2647",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "evolving code monkey"
    },
    "publisher": {
        "@type": "Organization",
        "name": "U+2647&#39;s blog",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": ",SpringBoot,Guavajava,U+2647",
    "description": "Spring Boot 学习笔记(十四) 整合 Guava",
}
</script>


    

    <!-- Analytics -->
    
    
        <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?b376fd998e9dfd55d67208bc0b8bf335';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>
    
    

    <!-- Custom Head -->
    

<meta name="generator" content="Hexo 5.2.0"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle" style="background-color: rgba(255,251,251,0.7)">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon" style="background-color: rgba(255, 251, 251, 0.7); display: initial;">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0-Guava"><span class="post-toc-number">1.</span> <span class="post-toc-text">0. Guava</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-Optional"><span class="post-toc-number">2.</span> <span class="post-toc-text">1. Optional</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-1-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">1.1 简单使用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-%E4%BD%BF%E7%94%A8-filter-%E6%96%B9%E6%B3%95"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">1.2 使用 filter 方法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-Preconditions"><span class="post-toc-number">3.</span> <span class="post-toc-text">2. Preconditions</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-Ordering"><span class="post-toc-number">4.</span> <span class="post-toc-text">3. Ordering</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-Collections"><span class="post-toc-number">5.</span> <span class="post-toc-text">4. Collections</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-1-%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">4.1 不可变集合</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-2-%E6%96%B0%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">4.2 新集合类型</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-collection-utilities"><span class="post-toc-number">6.</span> <span class="post-toc-text">5. collection utilities</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-1-%E9%9D%99%E6%80%81%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E3%80%82"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">5.1 静态工厂方法。</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-2-Iterables"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">5.2 Iterables</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-2-Sets"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">5.2 Sets</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-3-Maps"><span class="post-toc-number">6.4.</span> <span class="post-toc-text">5.3 Maps</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-3-Forwarding"><span class="post-toc-number">6.5.</span> <span class="post-toc-text">5.3 Forwarding</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6-Caches"><span class="post-toc-number">7.</span> <span class="post-toc-text">6. Caches</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-1-LoadingCache"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">6.1 LoadingCache</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-2-Eviction"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">6.2 Eviction</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-Strings"><span class="post-toc-number">8.</span> <span class="post-toc-text">7. Strings</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-1-Joiner"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">7.1 Joiner</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-2-Splitter"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">7.2 Splitter</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-3-CharMatcher"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">7.3 CharMatcher</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#8-%E5%8F%82%E8%80%83"><span class="post-toc-number">9.</span> <span class="post-toc-text">8. 参考</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Spring Boot 学习笔记(十四) 整合 Guava
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>U+2647</strong>
        <span>9月 09, 2019</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-none-link" href="/tags/Guava/" rel="tag">Guava</a></li><li class="mdl-menu__item"><a class="post_tag-none-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Spring Boot 学习笔记(十四) 整合 Guava&url=https://zdran.com/20190909.html&pic=https://zdran.com/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Spring Boot 学习笔记(十四) 整合 Guava&url=https://zdran.com/20190909.html&via=U+2647" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://zdran.com/20190909.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://zdran.com/20190909.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=U+2647&#39;s blog&title=Spring Boot 学习笔记(十四) 整合 Guava&summary=evolving code monkey&pics=https://zdran.com/img/favicon.png&url=https://zdran.com/20190909.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/zdRan/learning">Spring Boot 学习笔记 源码地址</a></li>
<li><a href="https://zdran.com/20180628.html">Spring Boot 学习笔记(一) hello world</a></li>
<li><a href="https://zdran.com/20180629.html">Spring Boot 学习笔记(二) 整合 log4j2</a></li>
<li><a href="https://zdran.com/20180703.html">Spring Boot 学习笔记(三) 整合 MyBatis + Druid</a></li>
<li><a href="https://zdran.com/20180706.html">Spring Boot 学习笔记(四) 整合 Druid 监控</a></li>
<li><a href="https://zdran.com/20180718.html">Spring Boot 学习笔记(五) 整合 静态资源</a></li>
<li><a href="https://zdran.com/20180725.html">Spring Boot 学习笔记(六) 整合 RESTful 参数传递</a></li>
<li><a href="https://zdran.com/20180730.html">Spring Boot 学习笔记(七) 整合 Swagger2</a></li>
<li><a href="https://zdran.com/20180809.html">Spring Boot 学习笔记(八) 整合 Filter</a></li>
<li><a href="https://zdran.com/20180830.html">Spring Boot 学习笔记(九) 整合 多环境配置</a></li>
<li><a href="https://zdran.com/20180904.html">Spring Boot 学习笔记(十) Redis集群搭建</a></li>
<li><a href="https://zdran.com/20180911.html">Spring Boot 学习笔记(十一) 整合 Redis</a></li>
<li><a href="https://zdran.com/20181016.html">Spring Boot 学习笔记(十二) 整合 定时任务</a></li>
<li><a href="https://zdran.com/20190418.html">Spring Boot 学习笔记(十三) 整合 AOP</a></li>
<li><a href="https://zdran.com/20190909.html">Spring Boot 学习笔记(十四) 整合 Guava</a></li>
</ul>
<hr>
<h2 id="0-Guava"><a href="#0-Guava" class="headerlink" title="0. Guava"></a>0. Guava</h2><p><a target="_blank" rel="noopener" href="https://github.com/google/guava"><strong>Guava</strong></a> 工程包含了若干被Google的 Java项目广泛依赖的核心库。或者说是 Google 工程师的瑞士军刀。Guava 里包含了集合 [collections] 、缓存 [caching] 、原生类型支持 [primitives support] 、并发库 [concurrency libraries] 、通用注解 [common annotations] 、字符串处理 [string processing] 、I/O 等等。 所有这些工具每天都在被Google的工程师应用在产品服务中。</p>
<p>想要使用 Guava 首先需要添加依赖。</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;
    &lt;artifactId&gt;guava&lt;/artifactId&gt;
    &lt;version&gt;28.1-jre&lt;/version&gt;
&lt;/dependency&gt;</code></pre><h2 id="1-Optional"><a href="#1-Optional" class="headerlink" title="1. Optional"></a>1. Optional</h2><p>Guava 用 Optional表示可能为 null 的 T 类型引用。一个 Optional 实例可能包含非 null 的引用（我们称之为引用存在），也可能什么也不包括（称之为引用缺失）。它从不说包含的是 null 值，而是用存在或缺失来表示。但 Optional 从不会包含 null 值引用。</p>
<h3 id="1-1-简单使用"><a href="#1-1-简单使用" class="headerlink" title="1.1 简单使用"></a>1.1 简单使用</h3><p>当某个方法有可能返回 null 值时候，我们可以返回一个 Optional 的泛型对象。代码如下：</p>
<pre><code>    /**
     * 使用 empty 代替 null
     *
     * @param num
     * @return
     */
    private Optional&lt;Integer&gt; getNum(int num) &#123;
        if (num &gt; 0) &#123;
            return Optional.of(num);
        &#125; else &#123;
            //使用 empty 代替 null
            return Optional.empty();
        &#125;
    &#125;

    public void testGetNum() &#123;
        Optional&lt;Integer&gt; num = this.getNum(5);
        if (num.isPresent()) &#123;
            System.out.println(num.get());
        &#125;
        //也可以使用 ifPresent 方法
        num.ifPresent(new Consumer&lt;Integer&gt;() &#123;
            @Override
            public void accept(Integer integer) &#123;
                System.out.println(integer);
            &#125;
        &#125;);
    &#125; </code></pre><p>使用 <code>Optional.of()</code> 来创建一个可用对象，使用 <code>Optional.empty();</code> 来创建一个不可引用的对象。用来替代之前直接返回 null 的情况。</p>
<p>使用 Optional 时，可以通过<code>Optional.isPresent()</code>方法，或者是<code>Optional.ifPresent()</code>方法来使用。</p>
<h3 id="1-2-使用-filter-方法"><a href="#1-2-使用-filter-方法" class="headerlink" title="1.2 使用 filter 方法"></a>1.2 使用 filter 方法</h3><p>可以使用 filter 方法 对返回结果做二次判断。</p>
<ol>
<li>使用<code>Predicates.in()</code> 方法，判断返回结果是否在集合内。</li>
</ol>
<pre><code>    public static void testIn()&#123;
        List&lt;AccountInfo&gt; data = new ArrayList&lt;&gt;();

        AccountInfo accountInfo = new AccountInfo();
        accountInfo.setName(&quot;aaa&quot;);
        accountInfo.setBalance(123);
        data.add(accountInfo);

        AccountInfo accountInfo2 = new AccountInfo();
        accountInfo2.setName(&quot;aaa&quot;);
        accountInfo2.setBalance(123);

        System.out.println(&quot;equals：&quot;+accountInfo.equals(accountInfo2));

        Optional&lt;AccountInfo&gt; optional = Optional.of(accountInfo2);
        //通过 调用对象的 equals 方法来判断是否存在
        optional.filter(Predicates.in(data)).ifPresent(new Consumer&lt;AccountInfo&gt;() &#123;
            @Override
            public void accept(AccountInfo accountInfo) &#123;
                System.out.println(&quot;1：&quot;+accountInfo.toString());
            &#125;
        &#125;);
    &#125;</code></pre><p>in 方法调用的是对象的 equals 方法，所以如果对象的 equals 方法返回 true，那么就会访问到该对象，否则就访问不到。</p>
<p>Predicates 类还有一些其他方法，用于过滤 Optional 对象。可以参考 Predicates 的API。</p>
<h2 id="2-Preconditions"><a href="#2-Preconditions" class="headerlink" title="2. Preconditions"></a>2. Preconditions</h2><p>Guava 在 Preconditions 类中提供了若干前置条件判断的实用方法。这些方法让调用的前置条件判断更简单。</p>
<pre><code>    /**
     * 检查参数是否为 true
     * @param attr
     */
    private static void testAttrs(boolean attr)&#123;
        Preconditions.checkArgument(attr,&quot;参数错误&quot;);
    &#125;

    /**
     * 检查参数是否为 null
     * @param accountInfo
     */
    private static void testAttr2(AccountInfo accountInfo) &#123;
        Preconditions.checkNotNull(accountInfo, &quot;参数不能为 null&quot;);
    &#125;

    /**
     * 检查索引是否越界
     * @param index
     * @param size
     */
    private static void testAttr3(int index, int size) &#123;
        Preconditions.checkElementIndex(index, size);
    &#125;

    /**
     * 检查区间是否越界
     * @param start
     * @param end
     * @param size
     */
    private static void testAttr4(int start,int end, int size) &#123;
        Preconditions.checkPositionIndexes(start,end, size);
    &#125;
    public static void main(String[] args) &#123;
        //testAttrs(Boolean.FALSE);
        //testAttr2(null);
        //testAttr3(3, 2);
        testAttr4(2, 4, 3);
    &#125;</code></pre><p>Guava 建议直接静态导入，就不用 Preconditions.checkArgument(), 来调用了，直接使用 checkArgument(),比较简洁。</p>
<h2 id="3-Ordering"><a href="#3-Ordering" class="headerlink" title="3. Ordering"></a>3. Ordering</h2><p>排序器[Ordering]是 Guava 流畅风格比较器[Comparator]的实现，它可以用来为构建复杂的比较器，以完成集<br>合排序的功能。</p>
<p>Guava 提供了 3 中常见的比较器。</p>
<ul>
<li>Ordering.natural()</li>
</ul>
<p>默认比较器，针对可比较对象。</p>
<ul>
<li>Ordering.usingToString()</li>
</ul>
<p>使用字符串的字典顺序排序。</p>
<ul>
<li>Ordering.arbitrary()</li>
</ul>
<p>插入顺序的倒序。</p>
<p>还可以根据 Comparator 生成 <code>Ordering.from(Comparator)</code>。</p>
<p>或者自定义比较器：</p>
<pre><code>    private static void lengthOrdering(List&lt;String&gt; list) &#123;
        Ordering&lt;String&gt; lengthOrdering = new Ordering&lt;String&gt;() &#123;
            @Override
            public int compare(@Nullable String left, @Nullable String right) &#123;
                return left.length() - right.length();
            &#125;
        &#125;;
        list.sort(lengthOrdering);
        //倒序
        list.sort(lengthOrdering.reverse());

    &#125;</code></pre><p>如果要根据对象的某个具体的属性排序，可以使用 onResultOf 方法。</p>
<pre><code>   private static void lengthOrdering2(List&lt;AccountInfo&gt; list) &#123;
        Ordering&lt;AccountInfo&gt; lengthOrdering = Ordering.natural().nullsFirst().onResultOf(new Function&lt;AccountInfo, Integer&gt;() &#123;
            @Nullable
            @Override
            public Integer apply(@Nullable AccountInfo accountInfo) &#123;
                return accountInfo.getBalance();
            &#125;
        &#125;);
        list.sort(lengthOrdering);
        //倒序
        list.sort(lengthOrdering.reverse());
    &#125;</code></pre><p><strong>注意：这里跟平常的链式调用的不同是，执行顺序是从后往前执行！！！</strong>比如上面的例子。</p>
<pre><code>Ordering.natural().nullsFirst().onResultOf()
</code></pre><p>首先执行 onResultOf 获取所有对象的 balance 值，然后将 null 值排在最前，然后再按照数字顺序排序。</p>
<p>Ordering 还提供了一些集合遍历、迭代的方法。比如：</p>
<ul>
<li>greatestOf(Iterableiterable, int k)</li>
</ul>
<p>获取最大的 k 个元素</p>
<ul>
<li>min(Iterable) </li>
</ul>
<p>获取最小的一个元素</p>
<ul>
<li>isOrdered(Iterable)  </li>
</ul>
<p>判断对象是否按照给定的排序器排序</p>
<h2 id="4-Collections"><a href="#4-Collections" class="headerlink" title="4. Collections"></a>4. Collections</h2><h3 id="4-1-不可变集合"><a href="#4-1-不可变集合" class="headerlink" title="4.1 不可变集合"></a>4.1 不可变集合</h3><p>创建对象的不可变拷贝是一项很好的防御性编程技巧。Guava 为所有 JDK 标准集合类型和 Guava 新集合类型都提供了简单易用的不可变版本。</p>
<p>使用方式：</p>
<pre><code>    public static void testImmutable()&#123;
        ImmutableSet&lt;String&gt; immutableSet = ImmutableSet.&lt;String&gt;builder().add(&quot;c&quot;)
                .add(&quot;b&quot;).build();

        for (String s : immutableSet) &#123;
            System.out.print(s + &quot;,&quot;);
        &#125;
    &#125;</code></pre><p>Guava 还提供了有序的不可变集合。</p>
<pre><code>    private static void testSort()&#123;
        ImmutableSortedSet&lt;String&gt; immutableSortedSet = ImmutableSortedSet.of(&quot;c&quot;, &quot;a&quot;, &quot;b&quot;);
        for (String s:immutableSortedSet) &#123;
            System.out.print(s + &quot;,&quot;);
        &#125;
    &#125;</code></pre><h3 id="4-2-新集合类型"><a href="#4-2-新集合类型" class="headerlink" title="4.2 新集合类型"></a>4.2 新集合类型</h3><ul>
<li>Multiset</li>
</ul>
<p>Guava 提供了一个新集合类型 Multiset ，它可以多次添加相等的元素。你可以将 Multiset 类比成 Map&lt;E, Integer&gt;，键为元素，值为计数的一个 Map 集合。添加相同元素会增加计数，删除元素会减少计数。</p>
<pre><code>    private static void testMultiset()&#123;
        Multiset&lt;String&gt; multiset = HashMultiset.create();
        multiset.add(&quot;a&quot;);
        multiset.add(&quot;a&quot;);
        multiset.add(&quot;b&quot;);
        multiset.add(&quot;c&quot;);
        multiset.setCount(&quot;b&quot;, 3);

        System.out.println(multiset.contains(&quot;a&quot;));
        System.out.println(multiset.count(&quot;a&quot;));
        System.out.println(multiset.remove(&quot;b&quot;));
        System.out.println(multiset.count(&quot;b&quot;));
        System.out.println(multiset.size());
    &#125;</code></pre><p>当然，Guava 还提供了 TreeMultiset、LinkedHashMultiset、ConcurrentHashMultiset、ImmutableMultiset<br>的实现，需要注意的是，这些类都提供了 create 方法，所以尽量不要使用 new 来创建对象。更贴心的是，Guava 还提供了一个 SortedMultiset ,默认排序。</p>
<pre><code>    private static void testSortMultiset()&#123;
        SortedMultiset&lt;Integer&gt; multiset = TreeMultiset.create();
        multiset.addAll(Lists.newArrayList(3, 2, 5, 6, 9, 2, 5, 6, 8));
        for (int num:multiset) &#123;
            System.out.print(num + &quot;,&quot;);
        &#125;
    &#125;</code></pre><ul>
<li>Multimap</li>
</ul>
<p>Guava 的 Multimap 可以很容易地把一个键映射到多个值。换句话说，Multimap 是把键映射到任意多个值的一般方式。你可以将 Multimap 类比成 Map&lt;K, List&gt; 或 Map&lt;K, Set&gt;。</p>
<pre><code>    private static void testMultimap()&#123;
        Multimap&lt;String, Integer&gt; multimap = ArrayListMultimap.create();
        multimap.put(&quot;a&quot;, 1);
        multimap.put(&quot;a&quot;, 2);
        multimap.put(&quot;a&quot;, 3);
        multimap.put(&quot;a&quot;, 4);

        System.out.println(multimap.containsKey(&quot;a&quot;));
        System.out.println(multimap.containsEntry(&quot;a&quot;, 1));
        System.out.println(multimap.containsEntry(&quot;a&quot;, 0));
        System.out.println(multimap.remove(&quot;a&quot;, 3));

        System.out.println(Arrays.deepToString(multimap.get(&quot;a&quot;).toArray()));

    &#125;</code></pre><p>Multimap 还提供了若干个视图</p>
<ul>
<li>multimap.asMap()</li>
</ul>
<p>返回一个 Map&lt;K,Collection&gt;形式的视图。</p>
<ul>
<li>multimap.entries()</li>
</ul>
<p>返回一个 Collection&lt;Map.Entry&lt;K, V&gt;&gt; 包含所有的键值对。</p>
<ul>
<li>multimap.keySet()</li>
</ul>
<p>返回一个 Set<K> 集合，包含所有<strong>不重复</strong>的键</p>
<ul>
<li>multimap.keys()</li>
</ul>
<p>返回一个 Multiset<K> 包含所有的 key。</p>
<ul>
<li>multimap.values()</li>
</ul>
<p>返回一个 Collection<V> 包含所有的 value</p>
<p>Multimap 的具体实现类包括 ArrayListMultimap、HashMultimap、TreeMultimap、ImmutableListMultimap 等。</p>
<ul>
<li>BiMap</li>
</ul>
<p>BiMap 是一个特殊的 Map ，可以用 inverse()反转 BiMap&lt;K, V&gt;的键值映射。所以，在插入值时需要注意，保证值时唯一的。强制将某个值插入到 BiMap 中，会更新该值对应的 key。</p>
<pre><code>    private static void testBiMap()&#123;
        BiMap&lt;String, Integer&gt; biMap = HashBiMap.create();
        biMap.put(&quot;a&quot;, 1);
        biMap.put(&quot;b&quot;, 2);
        System.out.println(biMap.inverse().get(2));
        biMap.forcePut(&quot;c&quot;, 2);
        System.out.println(biMap.inverse().get(2));

    &#125;</code></pre><p>BiMap 的常见实现类 HashBiMap、ImmutableBiMap、EnumBiMap、EnumHashBiMap。</p>
<ul>
<li>other<br>还有一些不常用到的集合类，比如 </li>
</ul>
<ol>
<li>Table: 集合，可以根据行和列来存储和检索具体的值。</li>
<li>ClassToInstanceMap: 是一个类型 Map，它的键是类型，而值是符合键所指类型的对象。</li>
<li>RangeSet: 描述了一组不相连的区间。当把一个区间添加到可变的RangeSet时，所有相连的区间会被合并</li>
<li>RangeMap: 将一个区间映射到一个对应的 value 上</li>
</ol>
<h2 id="5-collection-utilities"><a href="#5-collection-utilities" class="headerlink" title="5. collection utilities"></a>5. collection utilities</h2><p>Guava 提供了大量的集合工具。包括 Lists、Maps、Sets 等等。</p>
<h3 id="5-1-静态工厂方法。"><a href="#5-1-静态工厂方法。" class="headerlink" title="5.1 静态工厂方法。"></a>5.1 静态工厂方法。</h3><p>Guava 提供了能够推断范型的静态工厂方法。</p>
<pre><code>     private static void testUtil1()&#123;
        List&lt;AccountInfo&gt; accountInfoList = Lists.newArrayList();
        List&lt;AccountInfo&gt; accountInfoList2 = Lists.newArrayListWithCapacity(3);
        List&lt;AccountInfo&gt; accountInfoList3 = Lists.newArrayListWithExpectedSize(3);
        List&lt;AccountInfo&gt; accountInfoList4 = Lists.newArrayList(new AccountInfo());
    &#125;</code></pre><h3 id="5-2-Iterables"><a href="#5-2-Iterables" class="headerlink" title="5.2 Iterables"></a>5.2 Iterables</h3><p>Iterables 提供了一些集合操作的方法。</p>
<pre><code>    private static void testUtil1()&#123;
        List&lt;AccountInfo&gt; accountInfoList = Lists.newArrayList();
        List&lt;AccountInfo&gt; accountInfoList2 = Lists.newArrayListWithCapacity(3);
        List&lt;AccountInfo&gt; accountInfoList3 = Lists.newArrayListWithExpectedSize(3);
        List&lt;AccountInfo&gt; accountInfoList4 = Lists.newArrayList(new AccountInfo());

        Iterable&lt;Integer&gt; concatenated = Iterables.concat(Ints.asList(1, 2, 3),
                Ints.asList(3, 4, 5));

        System.out.println(Iterables.frequency(concatenated, 3));
        System.out.println(Iterables.getFirst(concatenated, 0));

    &#125;</code></pre><ul>
<li>concat(Iterable<Iterable>)</li>
</ul>
<p>串联多个 iterables 的懒视图</p>
<ul>
<li>frequency(Iterable, Object)</li>
</ul>
<p>返回对象在 iterable 中出现的次数</p>
<ul>
<li>partition(Iterable, int)</li>
</ul>
<p>把 iterable 按指定大小分割，得到的子集都不能进行修改操作</p>
<ul>
<li>getFirst(Iterable, T default)</li>
</ul>
<p>返回 iterable 的第一个元素，若 iterable 为空则返回默认值</p>
<ul>
<li>getLast(Iterable)</li>
</ul>
<p>返回 iterable 的最后一个元素，若 iterable 为空则抛出NoSuchElementException</p>
<ul>
<li>elementsEqual(Iterable, Iterable)</li>
</ul>
<p>如果两个 iterable 中的所有元素相等且顺序一致，返回 true</p>
<ul>
<li>unmodifiableIterable(Iterable)</li>
</ul>
<p>返回 iterable 的不可变视图</p>
<ul>
<li>limit(Iterable, int)</li>
</ul>
<p>限制 iterable 的元素个数限制给定值</p>
<ul>
<li>getOnlyElement(Iterable)</li>
</ul>
<p>获取 iterable 中唯一的元素，如果 iterable 为空或有多个元素，则快速失败</p>
<h3 id="5-2-Sets"><a href="#5-2-Sets" class="headerlink" title="5.2 Sets"></a>5.2 Sets</h3><p>Guava 提供了很多标准的集合运算的方法。比如集合间的交集、并集、补集等</p>
<ul>
<li>Sets.union()</li>
</ul>
<p>返回两个集合的并集，并去除重复元素</p>
<ul>
<li>Sets.intersection()</li>
</ul>
<p>返回两个集合的交集</p>
<ul>
<li>Sets.difference(set1,set2)</li>
</ul>
<p>返回 set1 中，不存在在 set2 中的元素,或者说是 set2 在 set1 中的绝对补集</p>
<pre><code>    private static void testSets() &#123;
        Set&lt;Integer&gt; set = Sets.union(Sets.newHashSet(1, 2, 3), Sets.newHashSet(3, 4, 5));
        System.out.println(Arrays.deepToString(set.toArray()));

        Set&lt;Integer&gt; set2 = Sets.intersection(Sets.newHashSet(1, 2, 3), Sets.newHashSet(3, 4, 5));
        System.out.println(Arrays.deepToString(set2.toArray()));

        Set&lt;Integer&gt; set3 = Sets.difference(Sets.newHashSet(1, 2, 3), Sets.newHashSet(1,2));
        System.out.println(Arrays.deepToString(set3.toArray()));
    &#125;</code></pre><h3 id="5-3-Maps"><a href="#5-3-Maps" class="headerlink" title="5.3 Maps"></a>5.3 Maps</h3><p>Maps 里有两个比较有意思的方法。</p>
<ul>
<li>Maps.filterKeys() / Maps.filterEntries</li>
</ul>
<p>根据给定的规则过滤键值对</p>
<ul>
<li>Maps.difference</li>
</ul>
<p>用来比较两个 Map 以获取所有不同点。</p>
<ul>
<li>Maps.uniqueIndex</li>
</ul>
<p>这个方法可以将一个 Iterable 对象 转成 Map 集合。</p>
<p><strong>PS: 有点没看懂这个方法，有了解的朋友可以留言</strong></p>
<pre><code>    private static void testMaps() &#123;
        Map&lt;String, Integer&gt; hashMap = Maps.newHashMap();
        hashMap.put(&quot;a&quot;, 1);
        hashMap.put(&quot;bb&quot;, 2);
        hashMap.put(&quot;ccc&quot;, 3);

        Map&lt;String, Integer&gt; hashMap1 = Maps.filterKeys(hashMap, new Predicate&lt;String&gt;() &#123;
            @Override
            public boolean apply(@Nullable String input) &#123;
                return input.length() &gt; 2;
            &#125;
        &#125;);

        System.out.println(Arrays.deepToString(hashMap1.entrySet().toArray()));

        Map&lt;String, Integer&gt; hashMap2 = Maps.filterEntries(hashMap, new Predicate&lt;Map.Entry&lt;String, Integer&gt;&gt;() &#123;
            @Override
            public boolean apply(Map.@Nullable Entry&lt;String, Integer&gt; input) &#123;
                return input.getValue() &gt; 2;
            &#125;
        &#125;);
        System.out.println(Arrays.deepToString(hashMap2.entrySet().toArray()));


        Map&lt;Integer, String&gt; hashMap3 = Maps.uniqueIndex(Lists.newArrayList(&quot;sss&quot;, &quot;ss&quot;, &quot;ssss&quot;),
                new Function&lt;String, Integer&gt;() &#123;
                    @Nullable
                    @Override
                    public Integer apply(@Nullable String input) &#123;
                        return input.length();
                    &#125;
                &#125;);
        System.out.println(Arrays.deepToString(hashMap3.entrySet().toArray()));

        Map&lt;String, Integer&gt; left = ImmutableMap.of(&quot;a&quot;, 1, &quot;b&quot;, 2, &quot;c&quot;, 3);
        Map&lt;String, Integer&gt; right = ImmutableMap.of(&quot;a&quot;, 1, &quot;b&quot;, 2, &quot;c&quot;, 3);
        MapDifference&lt;String, Integer&gt; diff = Maps.difference(left, right);

        diff.entriesInCommon(); // &#123;&quot;b&quot; =&gt; 2&#125;
        diff.entriesInCommon(); // &#123;&quot;b&quot; =&gt; 2&#125;
        diff.entriesOnlyOnLeft(); // &#123;&quot;a&quot; =&gt; 1&#125;
        diff.entriesOnlyOnRight(); // &#123;&quot;d&quot; =&gt; 5&#125;MapDifference
    &#125;</code></pre><h3 id="5-3-Forwarding"><a href="#5-3-Forwarding" class="headerlink" title="5.3 Forwarding"></a>5.3 Forwarding</h3><p>针对所有类型的集合接口，Guava 都提供了 Forwarding 抽象类以简化装饰者模式的使用</p>
<pre><code>    private static void testForwarding()&#123;
        ForwardingList&lt;String&gt; forwardingList = new ForwardingList&lt;String&gt;() &#123;
            final List&lt;String&gt; delegate = new ArrayList&lt;&gt;(); // backing list
            @Override
            protected List&lt;String&gt; delegate() &#123;
                return delegate;
            &#125;

            @Override
            public void add(int index, String element) &#123;
                System.out.println(&quot;add:&quot; + element);
                super.add(index, element);
            &#125;

            @Override
            public String get(int index) &#123;
                System.out.println(&quot;get:&quot; + index);
                return super.get(index);
            &#125;
        &#125;;

        forwardingList.add(0,&quot;aaa&quot;);
        System.out.println(forwardingList.get(0));
    &#125;</code></pre><p>类似于我们对 List 做了一层装饰（或者说说封装），在执行 List 的相关方法时，可以做一些其他的处理。</p>
<p>当然也可以通过一个类，来实现 Forwarding 的相关接口，比如：</p>
<pre><code>    class AddLoggingList&lt;E&gt; extends ForwardingList&lt;E&gt; &#123;
        final List&lt;E&gt; delegate; // backing list
        @Override protected List&lt;E&gt; delegate() &#123;
            return delegate;
        &#125;
        @Override public void add(int index, E elem) &#123;
            log(index, elem);
            super.add(index, elem);
        &#125;
        @Override public boolean add(E elem) &#123;
            return standardAdd(elem); // 用add(int, E)实现
        &#125;
        @Override public boolean addAll(Collection&lt;? extends E&gt; c) &#123;
            return standardAddAll(c); // 用add实现
        &#125;
    &#125;</code></pre><p>上面的 AddLoggingList 在使用时与普通的 ArrayList 并没有什么区别，唯一的区别是，使用 AddLoggingList 时，添加元素会打印出相应的 log。</p>
<h2 id="6-Caches"><a href="#6-Caches" class="headerlink" title="6. Caches"></a>6. Caches</h2><p>通常来说，Guava Cache 适用于：</p>
<ul>
<li>你愿意消耗一些内存空间来提升速度。</li>
<li>你预料到某些键会被查询一次以上。</li>
<li>缓存中存放的数据总量不会超出内存容量。</li>
</ul>
<p>如果你的场景符合上述的每一条，Guava Cache 就适合你。</p>
<h3 id="6-1-LoadingCache"><a href="#6-1-LoadingCache" class="headerlink" title="6.1 LoadingCache"></a>6.1 LoadingCache</h3><pre><code>    private static LoadingCache&lt;String, AccountInfo&gt; loadingCache = CacheBuilder.newBuilder()
            //最大缓存数量
            .maximumSize(10).build(new CacheLoader&lt;String, AccountInfo&gt;() &#123;
                @Override
                public AccountInfo load(String key) throws Exception &#123;
                    System.out.println(&quot;load 方法执行：&quot; + key);
                    AccountInfo accountInfo = new AccountInfo();
                    accountInfo.setName(key);
                    return accountInfo;
                &#125;
            &#125;);
    private static void testCaches() throws ExecutionException &#123;
        //如果缓存中没有该值，就会添加新值
        loadingCache.get(&quot;aaa&quot;).setBalance(123);
        System.out.println(loadingCache.get(&quot;aaa&quot;));
    &#125;</code></pre><p>可以通过 Builder 来创建一个缓存对象(或者叫本地缓存池)。可以设定缓存对象的一些基本参数，比如最大数量等。</p>
<p>load 方法用来加载需要缓存的对象。这些对象可以是手动创建的，也可以是从DB、Redis等其他外部存储加载进来的。</p>
<p>可以直接使用 get() 方法获取 LoadingCache 中的对象。<strong>注意：这里如果在缓存中没有找到对应的值，通过 load 方法创建一个新的值添加到缓存中，并返回该值。</strong></p>
<p>如果我们不希望 使用默认的 load 方法创建对象。也可以在使用 get 方法时传入一个 Call 对象，用来创建需要缓存的值。</p>
<pre><code>    private static void testCaches() throws ExecutionException &#123;
        //如果缓存中没有该值，就会添加新值
        loadingCache.get(&quot;aaa&quot;).setBalance(123);
        System.out.println(loadingCache.get(&quot;aaa&quot;));
        //如果没有值，就会执行 call 方法，创建对应的值，并返回
        AccountInfo accountInfo = loadingCache.get(&quot;bbb&quot;, new Callable&lt;AccountInfo&gt;() &#123;
            @Override
            public AccountInfo call() throws Exception &#123;
                AccountInfo accountInfo = new AccountInfo();
                accountInfo.setName(&quot;bbb&quot;);
                accountInfo.setPwd(&quot;call-add&quot;);
                return accountInfo;
            &#125;
        &#125;);
        System.out.println(accountInfo.toString());
    &#125;</code></pre><p>如果你执行了上面的代码，就会发现，获取 “aaa” 时，调用了 load 方法，而获取 “bbb” 时，则没有执行 load 方法。</p>
<p>也可以直接向缓存中插入值。</p>
<pre><code>    loadingCache.put(&quot;ccc&quot;,accountInfo);
    System.out.println(loadingCache.get(&quot;ccc&quot;));</code></pre><p>不过，尽量优先使用 Cache.get(K, Callable) 方法</p>
<h3 id="6-2-Eviction"><a href="#6-2-Eviction" class="headerlink" title="6.2 Eviction"></a>6.2 Eviction</h3><p>Guava Cache 提供了三种基本的缓存回收方式：基于容量回收、定时回收和基于引用回收。</p>
<ul>
<li>基于容量回收</li>
</ul>
<p>我们可以指定缓存的容量，通过 maximumSize() 方法，当超过容量时，缓存将尝试回收最近没有使用或总体上很少使用的缓存项</p>
<pre><code>    private static LoadingCache&lt;String, AccountInfo&gt; loadingCache = CacheBuilder.newBuilder()
            //最大缓存数量
            .maximumSize(10).build(new CacheLoader&lt;String, AccountInfo&gt;() &#123;
                @Override
                public AccountInfo load(String key) throws Exception &#123;
                    System.out.println(&quot;load 方法执行：&quot; + key);
                    AccountInfo accountInfo = new AccountInfo();
                    accountInfo.setName(key);
                    return accountInfo;
                &#125;
            &#125;);</code></pre><p>另外，Guava 缓存还提供了一种根据“权重(weights)” 来删除缓存的方式。你可以使用 CacheBuilder.weigher(Weigher)指定一个权重函数，并且用 CacheBuilder.maximumWeight(long)指定最大总重。</p>
<p><strong>注意：maximumWeight() 方法与 maximumSize() 方法不能同时使用</strong></p>
<pre><code>    private static void testEviction() throws ExecutionException &#123;
        LoadingCache&lt;String, AccountInfo&gt; cache = CacheBuilder.newBuilder()
                //最大缓存数量
                //.maximumSize(10)
                //最大权重
                .maximumWeight(10L)
                .weigher(new Weigher&lt;String, AccountInfo&gt;() &#123;
                    @Override
                    public int weigh(String key, AccountInfo value) &#123;
                        return value.getBalance();
                    &#125;
                &#125;)
                .build(new CacheLoader&lt;String, AccountInfo&gt;() &#123;
                    @Override
                    public AccountInfo load(String key) throws Exception &#123;
                        AccountInfo accountInfo = new AccountInfo();
                        accountInfo.setName(key);
                        return accountInfo;
                    &#125;
                &#125;);
        for (int i = 0; i &lt; 12; i++) &#123;
            AccountInfo accountInfo = new AccountInfo();
            accountInfo.setName(&quot;aaa&quot; + i);
            accountInfo.setBalance(i);
            cache.put(accountInfo.getName(), accountInfo);
        &#125;
        System.out.println(cache.asMap().size());
        System.out.println(Arrays.deepToString(cache.asMap().entrySet().toArray()));
    &#125;</code></pre><ul>
<li>定时回收</li>
</ul>
<p>CacheBuilder 提供两种定时回收的方法：</p>
<ol>
<li>expireAfterAccess(long, TimeUnit)：缓存项在给定时间内没有被读/写访问，则回收。请注意这种缓存的回收顺序和基于大小回收一样。</li>
<li>expireAfterWrite(long, TimeUnit)：缓存项在给定时间内没有被写访问（创建或覆盖），则回收。如果认为缓存数据总是在固定时候后变得陈旧不可用，这种回收方式是可取的。</li>
</ol>
<ul>
<li>基于引用的回收</li>
</ul>
<p>通过使用弱引用的键、或弱引用的值、或软引用的值，Guava Cache 可以把缓存设置为允许垃圾回收：</p>
<ol>
<li>CacheBuilder.weakKeys()：使用弱引用存储键。当键没有其它（强或软）引用时，缓存项可以被垃圾回收。因为垃圾回收仅依赖恒等式（==），使用弱引用键的缓存用==而不是 equals 比较键。</li>
<li>CacheBuilder.weakValues()：使用弱引用存储值。当值没有其它（强或软）引用时，缓存项可以被垃圾回收。因为垃圾回收仅依赖恒等式（==），使用弱引用值的缓存用==而不是 equals 比较值。</li>
<li>CacheBuilder.softValues()：使用软引用存储值。软引用只有在响应内存需要时，才按照全局最近最少使用的顺序回收。考虑到使用软引用的性能影响，我们通常建议使用更有性能预测性的缓存大小限定（见上文，基于容量回收）。使用软引用值的缓存同样用==而不是 equals 比较值。<br>显</li>
</ol>
<ul>
<li>显式清除</li>
</ul>
<p>任何时候，你都可以显式地清除缓存项，而不是等到它被回收：</p>
<ol>
<li>个别清除：Cache.invalidate(key)</li>
<li>批量清除：Cache.invalidateAll(keys)</li>
<li>清除所有缓存项：Cache.invalidateAll()</li>
</ol>
<p><strong>注意：这里的清除缓存并不一定会删除元素，准确的说法是将缓存置为无效。如果你调用 Cache.asMap 方法，你会发现，里面的元素并没有少。但是当调用 invalidate() 方法之后，再次调用 get() 方法，会重新执行 load 方法，说明原来的数据已经是无效的了</strong></p>
<h2 id="7-Strings"><a href="#7-Strings" class="headerlink" title="7. Strings"></a>7. Strings</h2><h3 id="7-1-Joiner"><a href="#7-1-Joiner" class="headerlink" title="7.1 Joiner"></a>7.1 Joiner</h3><p>用分隔符把字符串序列连接起来也可能会遇上不必要的麻烦。如果字符串序列中含有 null，那连接操作会更难。Fluent 风格的 Joiner 让连接字符串更简单。</p>
<pre><code>    private static void testJoiner()&#123;
        //使用 &#39;-&#39; 链接，遇到 null 值用 &#39;#&#39; 代替
        Joiner joiner = Joiner.on(&quot;-&quot;).useForNull(&quot;#&quot;);
        System.out.println(joiner.join(&quot;aaa&quot;,&quot;bbb&quot;,null,&quot;&quot;,&quot;ccc&quot;));
        //忽略空值
        joiner = Joiner.on(&quot;-&quot;).skipNulls();
        //将拼接好的 String append 到 StringBuilder 之后
        StringBuilder sb = Joiner.on(&quot;-&quot;).appendTo(new StringBuilder(&quot;sss&quot;), &quot;aaa&quot;,&quot;bbb&quot;);
        System.out.println(sb.toString());
    &#125;</code></pre><h3 id="7-2-Splitter"><a href="#7-2-Splitter" class="headerlink" title="7.2 Splitter"></a>7.2 Splitter</h3><p>非常友好的 String 拆分器。</p>
<pre><code>    private static void testSplitter()&#123;
        //使用 ; 分隔，并且忽略结果集中的空字符串，移除结果中的开头和结尾的空白字符
        Splitter splitter = Splitter.on(&#39;;&#39;).omitEmptyStrings().trimResults();

        Iterable&lt;String&gt; arr = splitter.split(&quot;a;aa ;  a ;;;&quot;);
        for (String str : arr) &#123;
            System.out.print(str+&quot;,&quot;);
        &#125;
        System.out.println();
        //按照固定长度拆分
        arr = Splitter.fixedLength(3).split(&quot;aaabbbcccdd&quot;);
        for (String str : arr) &#123;
            System.out.print(str+&quot;,&quot;);
        &#125;
        System.out.println();
    &#125;</code></pre><h3 id="7-3-CharMatcher"><a href="#7-3-CharMatcher" class="headerlink" title="7.3 CharMatcher"></a>7.3 CharMatcher</h3><p>CharMatcher 实例代表着某一类字符，如数字或空白字符。使用 CharMatcher 的好处更在于它提供了一系列方法，让你对字符作特定类型的操作：修剪[trim]、折叠[collapse]、移除[remove]、保留[retain]等等。</p>
<pre><code>    private static void testCharMatcher()&#123;
        //去掉控制字符（回车、换行、tab等）
        String noControl = CharMatcher.javaIsoControl().removeFrom(&quot;aa\tbb\ncc\\d\\.&quot;);
        System.out.println(noControl);

        String theDigits = CharMatcher.inRange(&#39;0&#39;, &#39;9&#39;).retainFrom(&quot;1a2b3c4d&quot;);
        System.out.println(theDigits);

        //去除两端的空格，并把中间的连续空格替换成 &#39;-&#39;
        String spaced = CharMatcher.whitespace().trimAndCollapseFrom(&quot;aaaa   bbb cc  &quot;, &#39;-&#39;);
        System.out.println(spaced);

        //用*号替换所有数字
        String noDigits = CharMatcher.inRange(&#39;0&#39;, &#39;9&#39;).replaceFrom(&quot;1a2b3c4d&quot;, &quot;*&quot;);
        System.out.println(noDigits);

        String lowerAndDigit = CharMatcher.inRange(&#39;0&#39;, &#39;9&#39;).or(CharMatcher.javaLowerCase()).retainFrom(&quot;1Aa2Bb3Cc&quot;);
        System.out.println(lowerAndDigit);

    &#125;</code></pre><h2 id="8-参考"><a href="#8-参考" class="headerlink" title="8. 参考"></a>8. 参考</h2><ul>
<li><a target="_blank" rel="noopener" href="http://wiki.jikexueyuan.com/project/google-guava-official-tutorial/">Google Guava 官方教程</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/google/guava/wiki">Guava wiki</a></li>
</ul>

        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            版权声明：本博客所有文章除特别声明外，均采用 <a href="/creativecommons.html" target="_blank">CC BY-NC-SA 4.0 </a>许可协议。转载请注明出处！
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="https://zdran.com/20190909.html">https://zdran.com/20190909.html</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 Gitalk -->
<div id="gitalk-comment">
    <!-- Gitalk 评论框 -->
<div id="gitalk-container"></div>

<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script>
    var gitalk = new Gitalk({
            clientID: '07532e6021e94ce04ea5',
            clientSecret: '511fa8b9dbc91a4520694798eb668931598eb678',
            repo: 'zdran.github.io',
            owner: 'zdRan',
            admin: ['zdRan'],
            // facebook-like distraction free mode
            distractionFreeMode: false
        })
   gitalk.render('gitalk-container')
</script>
</div>
<style>
    #gitalk-comment {
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/20190912.html" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/20190821.html" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="U+2647's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        cm.zdran@foxmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: cm.zdran@foxmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/03/">三月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2020/01/">一月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/09/">九月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/08/">八月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/05/">五月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/04/">四月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/03/">三月 2019<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/02/">二月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2019/01/">一月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/06/">六月 2018<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/05/">五月 2018<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">6</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Android/">Android<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Debug/">Debug<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/DesignPattern/">DesignPattern<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Dubbo/">Dubbo<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/Flutter/">Flutter<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/Java/">Java<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/LeetCode/">LeetCode<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/categories/Notes/">Notes<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/categories/Python/">Python<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Redis/">Redis<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/SpringBoot/">SpringBoot<span class="sidebar_archives-count">18</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">cloud</i>
                
                标签云
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间轴
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">58</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/zdRan" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;U+2647's blog
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
                <div class="footer-develop-div">Hosted by <a href="https://pages.coding.me" target="_blank" class="footer-develop-a">Coding Pages</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- GitTalk -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('
<link rel="stylesheet" href="/css/uc.css">
');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import highlight.js -->

    
        <script>lsloader.load("highlight_js","/js/highlight.pack.js?acYmXTaIUms2RHozguiBzg==", true)</script>
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            <!-- 加载 highlight 代码高亮-->
            hljs.initHighlightingOnLoad();
        
    

</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 2017;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
